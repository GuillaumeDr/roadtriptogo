<%= render 'shared/sidebar' %>
<%= render 'shared/mininavbar' %>

<div class="form date">
  <div class="container container-event d-flex">

    <div class="container calendar">
      <input type="date" class="form-control form-control-solid" id="date-event" name="trip-start" min="2000-01-01" max="2030-01-01" value="<%=@events.first.date unless @events.empty? %>">
    </div>

    <div class="container events">
      <div class="container d-flex justify-content-center">
        <H3>Programme du jour</H3>
      </div>

      <div class=" container d-flex justify-content-center", id="logement">
        <div class="event-type">
          <i id="fontawesome", class="fas fa-bed">  Logement</i>
          <% @events.each do |event| %>
            <% if  event.event_type == "Logements" %>
              <div class="container event" data-date-event=<%=event.date%>>
                  <li class="list-unstyled"> <strong><%= event.duration.capitalize %></strong>: <%=event.name %>, <%= event.address %></li>
                  <li class="list-unstyled">Prix: <%= event.price %>€ - <%= event.description %></li>
                  <li class="list-unstyled"><br></li>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>

      <div class="container d-flex justify-content-center", id="restaurant">
        <div class="event-type">
          <i id="fontawesome", class="fas fa-utensils">  Restaurant</i>
          <% @events.each do |event| %>
            <% if  event.event_type == "Restaurants" %>
              <div class="container event" data-date-event=<%=event.date%>>
                <li class="list-unstyled"> <strong><%= event.duration.capitalize %></strong>: <%=event.name %>, <%= event.address %></li>
                <li class="list-unstyled">Prix: <%= event.price %>€ - <%= event.description %></li>
                <li class="list-unstyled"><br></li>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>

      <div class="container d-flex justify-content-center", id="activités">
        <div class="event-type">
        <i id="fontawesome", class="fas fa-running">   Activités</i>
          <% @events.each do |event| %>
            <% if  event.event_type == "Activités" %>
              <div class="container event" data-date-event=<%=event.date%>>
                <li class="list-unstyled"> <strong><%= event.duration.capitalize %></strong>: <%=event.name %>, <%= event.address %></li>
                <li class="list-unstyled">Prix: <%= event.price %>€ - <%= event.description %></li>
                <li class="list-unstyled"><br></li>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>

      <div class="container d-flex justify-content-center", id="notes">
        <div class="event-type">
        <i id="fontawesome", class="fas fa-comment-dots">  Notes</i>
          <% @events.each do |event| %>
            <% if  event.event_type == "Notes" %>
              <div class="container event" data-date-event=<%=event.date%>>
                  <li class="list-unstyled"><%= event.description %></li>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>

      <div class="container d-flex justify-content-center">
        <button type="button" class="btn-principal" data-bs-toggle="modal" data-bs-target="#exampleModal">
          <i class="fa fa-plus"></i>
        </button>
      </div>

    </div>

      <!-- Modal -->
    <div id="event_date">
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content width-modal">
            <%= render 'shared/form', project: @project, step: @step, event: @event %>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
